<!doctype html><html lang=en>
<head>
<meta name=generator content="Hugo 0.90.1">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>D2 API Human</title>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap-reboot.min.css>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap-grid.min.css>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/github-markdown-css@5.1.0/github-markdown-light.css>
<link rel=stylesheet href=/d2-api-human/style.css>
</head>
<body>
<div class="container pt-3 py-5">
<div class=markdown-body>
<h1>D2 API Human</h1>
<p>
<strong>
[<a href=/d2-api-human/>Home</a>]
</strong>
[<a href=/d2-api-human/interface/>Data interface</a>]
[<a href=/d2-api-human/sample/>Sample</a>]
</p>
<h3 id=base-url>
Base URL
<a href=#base-url>&para;</a>
</h3>
<p><a href=https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/>https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/</a></p>
<h3 id=weapons-list>
Weapons list
<a href=#weapons-list>&para;</a>
</h3>
<p>Choose between a simple, or a detailed list of weapons.</p>
<ol>
<li>A detailed list of weapons, with as many information as possible, including possible perks and stats. Useful to build a customized data set.
<ul>
<li><a href=https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/all.json>https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/all.json</a></li>
<li><a href="https://stackblitz.com/edit/typescript-at68mj?file=index.ts">View sample usage</a></li>
</ul>
</li>
<li>A list of weapons with only the very basic information. Suitable for search and filter operations.
<ul>
<li><a href=https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/all_lite.json>https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/all_lite.json</a></li>
<li><a href="https://stackblitz.com/edit/typescript-fj47qu?file=index.ts">View sample usage</a></li>
</ul>
</li>
</ol>
<h3 id=weapons-by-id>
Weapons by ID
<a href=#weapons-by-id>&para;</a>
</h3>
<p>Retrieve weapon information with the weapon hash or ID.</p>
<ol>
<li>As an example, the ID of <a href=https://www.light.gg/db/items/3993415705/the-mountaintop/>The Mountaintop</a> is <code>3993415705</code>.</li>
<li><a href=https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/id/3993415705.json>https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/id/3993415705.json</a></li>
</ol>
<h3 id=weapons-by-name>
Weapons by name
<a href=#weapons-by-name>&para;</a>
</h3>
<p>Retrieve weapon information with the weapon name.</p>
<ol>
<li>As an example, the name of <a href=https://www.light.gg/db/items/417164956/j%C3%B6tunn/>Jötunn</a>.</li>
<li>Convert the name to lowercase, <code>jötunn</code>.</li>
<li>Convert all diacritics to ASCII, <code>jotunn</code>.</li>
<li>Remove any characters that are not alphanumeric
<ul>
<li>Which is not really applicable to Jötunn, but it does to others like <a href=https://www.light.gg/db/items/1600633250/21-delirium/>21% Delirium</a>, which becomes <code>21delirium</code>. Notice the missing space, and percentage in <code>21delirium</code>.</li>
</ul>
</li>
<li><a href=https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/name/jotunn.json>https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data/weapons/name/jotunn.json</a></li>
<li>Do note that some weapons start with <code>The</code>, like <a href=https://www.light.gg/db/items/3658188704/the-messenger/>The Messenger</a>, which will be <code>themessenger.json</code>.</li>
</ol>
<h3 id=file-regeneration>
File regeneration
<a href=#file-regeneration>&para;</a>
</h3>
<p>To note, the daily reset for Bungie is at 5:00 PM UTC time. We added a levy of <strong>2 hours and 20 mins</strong> to accommodate any possible downtimes. Hence, the JSON files will be regenerated every day, at 7.20 PM UTC time.</p>
<h3 id=file-caching>
File caching
<a href=#file-caching>&para;</a>
</h3>
<p>All the JSON files are served from <a href=https://www.jsdelivr.com/>jsDelivr</a> CDN, which to quote:</p>
<blockquote>
<p>Our caching logic and headers are optimized for production use and applies to all non-custom endpoints.</p>
<ul>
<li>Branches - 12 hours.</li>
</ul>
<p>— <a href=https://github.com/jsdelivr/jsdelivr#caching>https://github.com/jsdelivr/jsdelivr#caching</a></p>
</blockquote>
<p>jsDelivr will cache the JSON files for up to 12 hours. But browsers might cache the JSON files up to seven days. To get a newer data than the browser cache, we can append a query parameter. Example:</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style=display:block;width:100%;background-color:#3c3d38><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>baseUrl</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://cdn.jsdelivr.net/gh/altbdoor/d2-api-human@data&#39;</span>
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentDayInEpoch</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(Date.<span style=color:#a6e22e>now</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>86400</span>)

<span style=display:block;width:100%;background-color:#3c3d38><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>baseUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/weapons/all_lite.json?ts=</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>currentDayInEpoch</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>)
</span>  .<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>res</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>json</span>())
</code></pre></td></tr></table>
</div>
</div><p>In the example above, the <code>currentDayInEpoch</code> is divided to get the number of days since <a href=https://en.wikipedia.org/wiki/Unix_time>epoch</a>.</p>
<hr>
<p>
Generated with <a href=https://gohugo.io/>Hugo 0.90.1</a> |
<a href=https://github.com/altbdoor/d2-api-human>GitHub repo</a> |
<a href=https://github.com/sindresorhus/github-markdown-css>GitHub markdown CSS</a>
</p>
</div>
</div>
</body>
</html>